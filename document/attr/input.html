<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>输入属性</title>
  <link rel="shortcut icon" href="../../favicon.ico">
  <link rel="icon" sizes="100x100" href="../../favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-title" content="MCBE UI 文档">
  <meta name="apple-touch-icon-precomposed" size="57x57" href="../../web_icon.png">
  <meta name="apple-touch-icon-precomposed" size="114x114" href="../../web_icon.png">
  <meta name="apple-touch-icon-precomposed" size="152x152" href="../../web_icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-touch-fullscreen" content="yes">
  <meta name="keywords" content="我的世界UI,基岩版UI,json ui教程,JSON UI教程,json ui,JSON UI,Minecraft UI,Minecraft JSON UI,Minecraft BE JSON UI,Minecraft Bedrock Edition JSON UI">
  <meta name="description" content="本文档适用于 MCBE UI 开发者，参考文档以制作您的 UI 资源。">
  <meta name="author" content="MC_spruce">
  
  <link href="../../src/css/main.css" rel="stylesheet">
  <script src="../../src/js/jQuery.js"></script>
</head>

<body>
  <!--正文-->
  <div id="content">
    <div class="left_title"><h1>输入属性</h1></div>
    <div class="left_content">
<div class="cnTable"><div class="cnTableContainer"><table>
  <thead><tr><th>属性</th><th>属性名</th><th>值</th><th>默认值</th><th>描述</th></tr></thead><tbody>
  <tr><td>button_mappings</td><td>按钮映射</td><td>数组</td><td></td><td>按钮映射事件的处理。<br>详见 <a href="#pid_1">按钮映射 ></a></td></tr>
  <tr><td>modal</td><td>模态</td><td>布尔值</td><td>false</td><td>控件是否启用模态。<br>启用后，控件会覆盖其他控件（除该控件及其子控件）的操作，阻止焦点和互动。</td></tr>
  <tr><td>inline_modal</td><td>内联模态</td><td>布尔值</td><td>false</td><td>控件是否启用内联模态。<br>启用后，控件会覆盖该控件所在范围的其他控件（除该控件及其子控件）的所有类型操作，阻止焦点和互动。</td></tr>
  <tr><td>always_listen_to_input</td><td>总是监听输入</td><td>布尔值</td><td>false</td><td>控件是否始终监听输入。<br>启用后，控件位于其他控件后方，始终会监听输入。</td></tr>
  <tr><td>always_handle_pointer</td><td>总是处理指针</td><td>布尔值</td><td>false</td><td>控件是否始终处理指针输入。<br>启用后，控件位于其他控件后方，始终会处理指针操作。</td></tr>
  <tr><td><a style="font-size: 0.8em;">always_handle_controller_direction</a></td><td>总是始终控制器方向</td><td>布尔值</td><td>false</td><td>控件是否总是处理控制器方向输入。<br>启用后，控件位于其他控件后方，始终会处理控制器方向。</td></tr>
  <tr><td>prevent_touch_input</td><td>阻止触屏输入</td><td>布尔值</td><td>false</td><td>控件是否阻止触屏输入。<br>阻止后，控件会覆盖该控件所在范围的其他控件（除该控件及其子控件）的触屏操作，阻止互动。</td></tr>
  <tr><td>consume_event</td><td>消耗事件</td><td>布尔值</td><td>true</td><td>控件是否消耗事件。<br>值为 true 时，映射事件会消耗。消耗后，该映射事件不会传递后方的控件。</td></tr>
  <tr><td>hover_enabled</td><td>启用悬停</td><td>布尔值</td><td>true</td><td>控件是否启用悬停。</td></tr>
  <tr><td>consume_hover_events</td><td>消耗悬停事件</td><td>布尔值</td><td>true</td><td>控件是否消耗悬停事件。<br>值为 true 时，悬停事件不会被消耗，并且将映射事件传递当前控件后方的控件。</td></tr>
</tbody></table></div></div>
<h2>按钮映射</h2>
<p>可以使用 button_mappings 把键盘/手柄/其他操作方式的输入操作(如button.menu_select、button.menu_cancel)映射转输出为游戏内的操作(如button.menu_settings)或者用于改变动画状态(详见<a href="./anim.html">动画控件</a>)</p>
下面我们来认识一下如何添加按钮映射吧！
<c title="示例">"button_mappings": [
  {
    "from_button_id": "button.menu_select",
    "to_button_id": "$pressed_button_name",
    "mapping_type": "pressed",
    "input_mode_condition": "gamepad_and_not_gaze"
  }
]</c>
<p>以下是按钮映射数组对象的属性：</p>
<div class="cnTable"><div class="cnTableContainer"><table>
  <thead><tr><th>属性</th><th>属性名</th><th>值</th><th>默认值</th><th>描述</th></tr></thead><tbody>
  <tr><td>ignored</td><td>忽略</td><td>布尔值</td><td>false</td><td>是否忽略该按钮映射对象。</td></tr>
  <tr><td>from_button_id</td><td>触发事件ID</td><td>字符串</td><td></td><td>触发事件的 ID。<br><br>填写<lc>any</lc>时，任何事件都可以用于触发该按钮映射对象。</td></tr>
  <tr><td>to_button_id</td><td>执行事件ID</td><td>字符串</td><td></td><td>触发事件后执行的 ID。</td></tr>
  <tr><td>mapping_type</td><td>映射类型</td><td>字符串：列举</td><td>pressed</td><td>映射类型。<br>列举的值可以是：<br>pressed 按下<br>double_pressed 双击<br>global 全局<br>focused 焦点</td></tr>
  <tr><td>input_mode_condition</td><td>输入模式条件</td><td>字符串</td><td>any</td><td>输入模式条件。<br>列举的值可以是：<br>any 无条件<br>not_gaze 不是凝视<br>not_gamepad 不是游戏手柄<br>gamepad_and_not_gaze 游戏手柄但不是凝视</td></tr>
  <tr><td>scope</td><td>作用域</td><td>字符串</td><td>controller</td><td>映射的作用域。<br>列举的值可以是：<br>view 视图<br>controller 控制器</td></tr>
  <tr><td>handle_select</td><td>处理选择</td><td>布尔值</td><td>true</td><td>处理选择。</td></tr>
  <tr><td>handle_deselect</td><td>处理不选择</td><td>布尔值</td><td>true</td><td>处理不选择。</td></tr>
  <tr><td>ignore_input_scope</td><td>忽略输入作用域</td><td>布尔值</td><td>false</td><td>忽略输入作用域。</td></tr>
  <tr><td>consume_event</td><td>消耗事件</td><td>布尔值</td><td>true</td><td>是否消耗事件。</td></tr>
  <tr><td>alternate_input_scope</td><td>备用输入作用域</td><td>布尔值</td><td>false</td><td>启用备用输入作用域。</td></tr>
  <tr><td>button_up_right_of_first_refusal</td><td></td><td>布尔值</td><td>false</td><td></td></tr>
</tbody></table></div></div>

<tip><b>提示</b><br>to_button_id事件可作为动画的开始、重置、结束事件。</tip>
<p>详见 <a href="">按钮映射ID ></a></p>

<!--<ul style="list-style: square;">
  <li>button.menu_cancel（Esc键或返回键）</li>
  <li>button.exit（退出屏幕）</li>
  <li>button.menu_ok（确定键）</li>
  <li>button.menu_select（单击/点击/Enter键）</li>
  <li>button.hide_hud（隐藏/显示Hud - 仅用于Hud屏幕)</li>
  <li>button.hide_paperdoll（隐藏/显示纸娃娃 - 仅用于Hud屏幕）</li>
  <li>button.menu_up  ↑</li>
  <li>button.menu_down  ↓</li>
  <li>button.menu_left  ←</li>
  <li>button.menu_right  →</li>
  <li>button.menu_autocomplete（Tab键 - 常用于聊天屏幕）</li>
  <li>button.menu_autocomplete_back（上个Tab键 - 常用于聊天屏幕）</li>
  <li>button.menu_tab_left（左Tab键）</li>
  <li>button.menu_tab_right（右Tab键）</li>
</ul>-->
  </div></div>
  <!--正文-->
  <script src="../../src/js/sdui.js"></script>
  <script src="../../src/js/main.js"></script>
  <script src="../../src/js/hl.js"></script>
  <link href="../../src/css/font-awesome.css" rel="stylesheet">
  <script>hljs.initHighlightingOnLoad()</script>
</body></html>